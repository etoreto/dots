# i3 config file (v4)
# see http://i3wm.org/docs/userguide.html

# VARIABLES {{{
set $mod Mod4

set_from_resource $back background
set_from_resource $dark color8
set_from_resource $light color15
set_from_resource $green color10
set_from_resource $blue color12

set $dmenufont Terminus:size=8
font pango:Terminus 8
# }}}

# STARTING PROGRAMS {{{

# wallpaper
# exec --no-startup-id hsetroot -cover ~/Downloads/bg/1482028898331.jpg
exec --no-startup-id hsetroot -solid '#90cbf7'

# touchpad and cursor
exec --no-startup-id synclient HorizTwoFingerScroll=1 TapButton1=1 TapButton2=3 TapButton3=2
exec --no-startup-id unclutter -root -idle 1 -jitter 10

# dropdown ranger
for_window [instance="scratchpad"] floating enable, move window to scratchpad
exec --no-startup-id urxvtcd -name scratchpad -e ranger

# screenlocker
bindsym $mod+g exec slock
bindsym $mod+Shift+g exec slock croutonpowerd --suspend

# launching programs
bindsym $mod+d exec dmenu_run -fn '$dmenufont' -nf '$blue' -nb '$back' -sf '$back' -sb '$blue' -i
bindsym $mod+Return exec urxvtcd
# }}}

# CROUTON SPECIFIC KEYBINDINGS {{{

# Delete key replacement (Alt + BackSpace)
exec --no-startup-id xmodmap -e 'keycode 108 = Mode_switch'
exec --no-startup-id xmodmap -e 'keysym BackSpace = BackSpace BackSpace Delete'
# Brightness Controls
bindsym F6 exec brightness down
bindsym F7 exec brightness up
# Volume Controls
bindsym F8 exec volume mute && dunstify -r 85748 "sound muted"
bindsym F9 exec volume down && dunstify -r 85748 "sound at $(volume get volume)%"
bindsym F10 exec volume up && dunstify -r 85748 "sound at $(volume get volume)%"
# Screenshot
bindsym --release Ctrl+F5 exec scrot -e 'mv $f ~/Downloads/'
bindsym --release Ctrl+Shift+F5 exec scrot -s -e 'mv $f ~/Downloads/'
bindsym --release Ctrl+Shift+F4 exec scrot -u -e 'mv $f ~/Downloads/'
# }}}

# WINDOW DECORATION {{{

# thin border without title bar
for_window [class="^.*"] border pixel 3
hide_edge_borders smart

# float pop-ups
for_window [window_role="pop-up"] floating enable
for_window [class="mpv"] floating enable

# window colors         border  backgr. text    indicator
client.focused          $blue   $blue   $back   $dark
client.focused_inactive $dark   $dark   $back   $dark
client.unfocused        $dark   $dark   $back   $dark
client.urgent           $blue   $blue   $back   $blue
client.background       $back
# }}}

# CHANGE FOCUS {{{
focus_follows_mouse on
bindsym $mod+h     focus left
bindsym $mod+j     focus down
bindsym $mod+k     focus up
bindsym $mod+l     focus right
bindsym $mod+Left  focus left
bindsym $mod+Down  focus down
bindsym $mod+Up    focus up
bindsym $mod+Right focus right
bindsym $mod+space focus mode_toggle
bindsym $mod+plus  focus parent
bindsym $mod+minus focus child
# }}}

# MOVE FOCUSED WINDOW {{{
bindsym $mod+Shift+h     move left  80 px
bindsym $mod+Shift+j     move down  40 px
bindsym $mod+Shift+k     move up    40 px
bindsym $mod+Shift+l     move right 80 px
bindsym $mod+Shift+Left  move left  40 px
bindsym $mod+Shift+Down  move down  40 px
bindsym $mod+Shift+Up    move up    80 px
bindsym $mod+Shift+Right move right 80 px
# Mouse+$mod to drag floating windows
floating_modifier $mod
# }}}

# SCRATCHPAD {{{
bindsym $mod+Shift+a move scratchpad
bindsym $mod+a scratchpad show
# }}}

# CHANGING LAYOUT {{{
bindsym $mod+v split toggle
bindsym $mod+e layout toggle split
bindsym $mod+t layout toggle
bindsym $mod+f fullscreen
bindsym $mod+Shift+space floating toggle
# }}}

# WORKSPACES {{{
# go to
bindsym $mod+1           workspace number 1
bindsym $mod+2           workspace number 2
bindsym $mod+3           workspace number 3
bindsym $mod+4           workspace number 4
bindsym $mod+5           workspace number 5
bindsym $mod+6           workspace number 6
bindsym $mod+7           workspace number 7
bindsym $mod+8           workspace number 8
bindsym $mod+9           workspace number 9
bindsym $mod+0           workspace number 10
bindsym $mod+z           workspace back_and_forth
bindsym $mod+Tab         workspace next
# move container to
bindsym $mod+Shift+1     move container to workspace number 1; workspace number 1
bindsym $mod+Shift+2     move container to workspace number 2; workspace number 2
bindsym $mod+Shift+3     move container to workspace number 3; workspace number 3
bindsym $mod+Shift+4     move container to workspace number 4; workspace number 4
bindsym $mod+Shift+5     move container to workspace number 5; workspace number 5
bindsym $mod+Shift+6     move container to workspace number 6; workspace number 6
bindsym $mod+Shift+7     move container to workspace number 7; workspace number 7
bindsym $mod+Shift+8     move container to workspace number 8; workspace number 8
bindsym $mod+Shift+9     move container to workspace number 9; workspace number 9
bindsym $mod+Shift+0     move container to workspace number 10; workspace number 10
bindsym $mod+Shift+z     move container to workspace back_and_forth; workspace back_and_forth
bindsym $mod+Shift+Tab   move container to workspace next; workspace next
# multimonitor
# fake-outputs 683x768+0+0,683x768+683+0 # just for testing
bindsym $mod+bracketleft  move workspace to output left
bindsym $mod+bracketright move workspace to output right
# }}}

# EXIT I3 (logs you out of your X session) {{{
mode "exit" {
    bindsym y exec i3-msg exit
    bindsym n mode "default"

    bindsym Escape mode "default"
    bindsym Return mode "default"
}
bindsym $mod+Shift+e mode "exit"
# }}}

# RESIZE WINDOW (you can also use the mouse for that) {{{
mode "resize" {
    bindsym h     resize shrink width  10 px or 10 ppt
    bindsym j     resize grow   height 10 px or 10 ppt
    bindsym k     resize shrink height 10 px or 10 ppt
    bindsym l     resize grow   width  10 px or 10 ppt
    bindsym Left  resize shrink width  10 px or 10 ppt
    bindsym Down  resize grow   height 10 px or 10 ppt
    bindsym Up    resize shrink height 10 px or 10 ppt
    bindsym Right resize grow   width  10 px or 10 ppt

    bindsym Shift+h     move left
    bindsym Shift+j     move down
    bindsym Shift+k     move up
    bindsym Shift+l     move right
    bindsym Shift+Left  move left
    bindsym Shift+Down  move down
    bindsym Shift+Up    move up
    bindsym Shift+Right move right

    bindsym Escape mode "default"
    bindsym Return mode "default"
}
bindsym $mod+r mode "resize"
# }}}

# MISC KEYBINDINGS {{{
# sticky toggle
bindsym $mod+s sticky toggle
# kill focused window
bindsym $mod+q kill
# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# }}}

# BAR SETTINGS {{{
bar {
    position bottom
    status_command "echo '{\"version\":1}'; echo '['; echo '[],'; exec conky"
    separator_symbol " :: "
    colors {
    	statusline	$blue
		background	$back
        # colors           border backgr text
        focused_workspace  $blue  $blue  $back
        inactive_workspace $back  $back  $blue
        urgent_workspace   $green $green $back
    }
}
# }}}

# vim:foldmethod=marker:foldlevel=0
